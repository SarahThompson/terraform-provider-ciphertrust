---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "ciphertrust_oci_acl Resource - terraform-provider-ciphertrust"
subcategory: ""
description: |-
  
---

# ciphertrust_oci_acl (Resource)

This resource is used to grant a set of permissions to a user or a group allowing them to perform only permitted actions on OCI external vaults and keys.
The following table lists the accepted values:

| Operation       | Actions Required    | Description                                                                  |
|:----------------|:--------------------|:-----------------------------------------------------------------------------|
| All operations  | viewhyokkey         | Permission to view OCI external vaults and their keys.                       |
| Create          | hyokkeycreate       | Permission to create an OCI external key.                                    |
| Update          | hyokkeyupdate       | Permission to update an OCI external key.                                    |
| Delete          | hyokkeydelete       | Permission to delete an OCI external key (applicable only to unlinked keys). |
| Rotate          | hyokkeyrotate       | Permission to rotate an OCI external key in CipherTrust Manager.             |
| Block/Unblock   | hyokkeyblockunblock | Permission to block and unblock an OCI external key.                         |

## Example Usage

```terraform
# Create a tenancy resource
resource "ciphertrust_oci_tenancy" "oci_tenancy" {
  tenancy_ocid = "tenancy-ocid"
  tenancy_name = "tenancy-name"
}

# Create an OCI issuer resource
resource "ciphertrust_oci_issuer" "oci_issuer" {
  name              = "issuer-name"
  openid_config_url = "open-config-url"
}

# Create an OCI external vault resource
resource "ciphertrust_oci_external_vault" "external_vault" {
  client_application_id = "oci-client-application-id"
  issuer_id             = ciphertrust_oci_issuer.oci_issuer.id
  tenancy_id            = ciphertrust_oci_tenancy.oci_tenancy.id
  vault_name            = "vault-name"
}

# Create a user
resource "ciphertrust_user" "user" {
  username = "username"
  password = "password"
}

# Create another user which will be added to a group
resource "ciphertrust_user" "group_user" {
  username = "group_user"
  password = "password"
}

# Create a group and add the user
resource "ciphertrust_groups" "group" {
  name     = "group"
  user_ids = [ciphertrust_user.group_user.id]
}

# Users must be a member of the CCKM Users group to perform operations on cloud keys
resource "ciphertrust_groups" "cckm_users" {
  name = "CCKM Users"
  user_ids = [
    ciphertrust_user.user.id,
    ciphertrust_user.group_user.id,
  ]
}

# Users must be a member of the Key Users group to perform operations on CipherTrust keys
resource "ciphertrust_groups" "key_users" {
  name = "Key Users"
  user_ids = [
    ciphertrust_user.group_user.id,
  ]
}

# Add an acl for the user to the vault
resource "ciphertrust_oci_acl" "user_acl" {
  actions  = ["viewhyokkey", "hyokkeycreate"]
  user_id  = ciphertrust_user.user.id
  vault_id = ciphertrust_oci_external_vault.external_vault.id
}

# Add an acl for the group to the vault
resource "ciphertrust_oci_acl" "group_acl" {
  actions  = ["viewhyokkey", "hyokkeycreate", "hyokkeydelete"]
  group    = ciphertrust_groups.group.id
  vault_id = ciphertrust_oci_external_vault.external_vault.id
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `actions` (Set of String) List of permitted actions. The "viewhyokkey" action must be included. Valid values: viewhyokkey, hyokkeycreate, hyokkeyupdate, hyokkeydelete, hyokkeyrotate and hyokkeyblockunblock.
- `vault_id` (String) Terraform ID of the external vault acl will be added to.

### Optional

- `group` (String) CipherTrust group the acl applies to. Specify either "user_id" or "group".
- `user_id` (String) ID of the CipherTrust user the acl applies to. Specify either "user_id" or "group".

### Read-Only

- `id` (String) Terraform resource identifier.
